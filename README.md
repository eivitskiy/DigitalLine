# Тестовое задание DigitalLine
## Введение
Это код приложения для генерации турнирной таблицы.

## Развёртывание приложения
### Рекомендации
Для быстрого развёртывания рекомендуется использовать [DigitalLineServer](https://github.com/eivitskiy/DigitalLineServer)
и соответствующую структуру директорий
```
+ DigitalLine - основная директория проекта
|- server - директория сервера
| |- nginx - конфиги nginx'а
| |- php-fpm - конфиги php
| |- postgres - конфиги и данные postgres
|  \ ... прочие файлы
|
|- www - директория проекта турнирной таблицы
|  \ ... файлы проекта турнирной таблицы
| ...
```
Процесс настройки DigitalLineServer описан в [README](https://github.com/eivitskiy/DigitalLineServer/blob/main/README.md) проекта

### Клонирование репозитория
Создаём пустую папку для проекта и переходим в неё
```bash
mkdir DigitalLine && cd DigitalLine
```

Внутри папки выполним команду клонирования репозитория и перейдём внутрь новой папки
```bash
git clone git@github.com:eivitskiy/DigitalLine.git www && cd www
```

### Конфигурирование
Команды необходимо выполнять в среде с установленным PHP8.1, например это контейнер `php-fpm` проекта DigitalLineServer
Для выполнения команд в контейнере необходимо сделать сдедующее:
- в папке server запустить контейнеры (как это сделать описано в README соответствующего проекта)
- выполнить команду
```bash
sudo docker-compose exec php-fpm bash
```

Далее все команды выполняются внутри контейнера `php-fpm`

1. Перейдём в каталог с файлами проекта
```bash
cd /var/www
```
2. Скопируем пример файла переменных окружения командой
```bash
cp .env.example .env
```
>При необходимости изменить значения переменных окружения в файле `.env`
>>Обязательно нужно это сделать, если приложение запускается без использования DigitalLineServer
3. Установим зависимости проекта с помощью менеджера пакетов [composer](https://getcomposer.org/)
```bash
composer install
```
4. Сгенерируем ключ приложения командой
```bash
php artisan key:generate
```
5. Применим миграции
```bash
php artisan migrate
```
6. Опционально: можно наполнить базу данных
```bash
php artisan db:seed 
```

Приложение готово для запуска. Для этого в браузере перейдём на http://localhost (при использовании DigitalLineServer)

Примерный внешний вид приложения:
<img src="https://i.imgur.com/HRy4j1Z.png" />

## Победители группового отбора
В таблицах группового отбора отображаются игры команд.
Если навести курсор мыши на ячейку со счётом, можно увидеть победителя игры.
В последней колонке отображаются очки команды. Подсчёт производится следующим образом:
- за победу в игре начисляется 3 балла
- за ничью в игре начисляется 1 балл
- за поражение в игре баллы не начисляются

## Игры плей-офф
В таблице игр плей-офф отображаются игры четвертьфинала, полуфинала и финала.
Игры проходят в режиме "на выбывание".
В ячейках отображаются названия команд и счёт, проигравшая команда перечёркнута.

## Генерация данных
В левой верхней части окна приложения имеется кнопка, при нажатии на которую все данные в БД очищаются и генерируется
новый набор: команды, игры отборочного турнира, игры плей-офф. При этом страница будет обновлена с новыми данными.